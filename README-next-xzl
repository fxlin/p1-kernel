roadmap... 
exp7: 
    sync (spinlock, sleeplock) & corresponding sched support (sleep, etc.)
    more syscalls
    more vm functions. copyin, copyout

block layer, buf, vfs, filesys, disk driver (so that we can have basicaly fs tree working)
    disk driver woulnd't be necessary but it's tightly coupled with vfs at this time. 

console, uart (improved)
    b/c user now needs to call sys_write() to console. uart driver needs to support multithreading
        also irq driven

NEXT -- improved uart driver, then enable console. 

NEXT --- fixe bug. cf sysfile.c 293 V

NEXT --- deeper issues in fs. most related to fs/blk/cache/lock not init'd 
    fixed a bug in printf (long)

thought -- userspace printf() (write()) tightly coupled with vfs, fs, and block device driver. 
    need to provide an easier way to debug. 


TODO for mm: in the long run, maybe need a function for unmapping/freeing a user va 
region, the problme is that mm->user_pages are stord in an array, therefore 
unmapping/freeing will leave holes there, which complicate things. 

do we really need mm->user_pages? if we need to free them, 
    we can follow mm->pgd to find all user pages


TODO: 
enable disk driver irq (right now not gettting irq?)
inode for "/" must exists on disk... 
    (it was created in memory, but invalid, meaning not loaded from disk)
    first time the root inode gets ilocked(), it will try to read from disk ... no irq, dead.
    fix this 
FIXED 

fsinit() must be called. <---- V

------------
HOW TO BUILD DISK IMAGE... 
xl6yq@granger1 (riscv)[xv6-riscv]$ mkfs/mkfs /tmp/sd.bin README
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 1954 total 2000
balloc: first 50 blocks have been allocated
balloc: write bitmap block at sector 45

"README" is a file
-------------
V: fork() should also clone opened fd? 
V only 1 user task printing coudl be the other does not have a valid fd (always spinning then ...)

TODO: test exec() ... with standalone user app   v

call_sys_write(1 /*stdout*/, msg, strlen(msg));     // WILL FAIL. can be used for debugging 
----> use this as a test case ... to improve expcetion handling... userspace unwinding, etc. 


[x] TODO: exec() cannot parse arguments correctly... argc always 0. fix it. 
1st standalone user program -- "echo" -- will test exec() and arg passing. 
then "ls" -- will test more fs functions



-------------
stack unwind ref:
https://elixir.bootlin.com/linux/latest/source/arch/arm64/kernel/stacktrace.c
libunwind ... too heavy 
rt-thread os... no unwind for armv8, only v7
circle ... no unwind, only gdb stub support 

---------------

source files replaced

include/mm.h
src/linker-qemu.d

src/mini_uart.c (removed)

added
src/pl011.c

